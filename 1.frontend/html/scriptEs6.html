<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <button type="button" id="btn">목록보기</button>
  <div>
    <ol id="list"></ol>
  </div>

  <script>

    // 축약문법 - 속성과 값이 같으면 속성만 적어도 가능
    // 축약문법 - 속성에 함수를 정의할 때는 function 예약어 생략

    let lang = "javascript";

    let userInfo = {
      // lang: "javascript",
      lang,
      // coding: function() {
      //   console.log("holy moly");
      // },
      coding() {
        console.log("holy moly");
      },

      arrowFunc: () => {
        console.log("arrow arrow");
      }
    }

    console.log(userInfo);
    console.log(userInfo.arrowFunc());

    // spread operator
    // 특정 객체 또는 배열의 값을 다른 객체나 다른 배열로 복제, 이동
    // 쉽게 말해 깊은 복사
    // operator ...

    let obj = {
      name: "mindu",
      camp: "lg cns",

    };

    let newObj = { ...obj };
    console.log(obj);
    console.log(newObj);
    console.log(newObj === obj ? true : false);

    let ary = [1, 2, 3, 4];
    let newAry = [...ary];
    console.log(newAry === ary ? true : false);

    // destructuring
    let { name, camp } = obj;

    console.log(`name = ${name}, camp = ${camp}`);

    // promise (resolve, reject) two callback func
    // asyncronouse process object
    // function or library for communcation : fetch, axios



    // const promise = new Promise((resolve, reject) => {
    //   setTimeout(() => {
    //     // resolve({
    //     //   name: "mindu",
    //     //   camp: "lg cns",

    //     // });
    //     reject("errrrrrrrrrrr!");
    //   }, 2000);
    // });

    // console.log(promise);
    // console.log("still working....");

    // // promise.then(response => {
    // //   console.log(response);
    // // });
    // promise.catch(error => {
    //   console.log(error);
    // });

    /* 
    resolve : then (success)
    reject : catch (failed)
    */
    const getData = () => {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          const statusCode = 200;
          if (statusCode === 500) {
            resolve({
              name: "mindu",
              camp: "lg cns",
  
            });
          }
          else {
            reject("errrrrrrrrrrr!");

          }
        }, 1000);
      });
    };

    document.getElementById("btn").onclick = async () => {
      // try {
      //   const promise = await getData();
      //   console.log(promise);
      // } catch(error) {
      //   console.log(error);
      //   console.log("errrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr");
      // }
      try {
        const response = await fetch("../data/todo.json")
        const data = await response.json();

        let liStr = "";
        data.forEach(e => {
          const str = `<li>${e.name}: ${e.camp}</li>`;  
          liStr += str;          
        });
        document.getElementById("list").innerHTML = liStr;
      } catch (error) {
        console.log(error);
      }
    };


  </script>
</body>

</html>